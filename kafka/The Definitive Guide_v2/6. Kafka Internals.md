##  Cluster Membership

- Kafka uses Apache ZooKeeper to maintain the list of brokers that are currently mem‚Äê bers of a cluster. 
- Every broker has a unique identifier that is either set in the broker configuration file or automatically generated. E
- Every time a broker process starts, it registers itself with its ID in ZooKeeper by creating an [ephemeral node](https://zookeeper.apache.org/doc/r3.4.8/zookeeperProgrammers.html#Ephemeral+Nodes).

When a broker loses connectivity to ZooKeeper (usually as a result of the broker stopping, but this can also happen as a result of network partition or a long garbage- collection pause), the ephemeral node that the broker created when starting will be automatically removed from ZooKeeper. 

Kafka components that are watching the list of brokers will be notified that the broker is gone.


