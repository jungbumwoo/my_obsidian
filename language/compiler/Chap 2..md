 

2.2 Syntex Definition
í”„ë¡œê·¸ëž˜ë° ì–¸ì–´ì˜ ë¬¸ë²•(Syntax)ì„ **í˜•ì‹ì ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ë°©ë²•, ì¦‰ ë¬¸ë§¥ ìžìœ  ë¬¸ë²•(Context-Free Grammar, CFG)**ì„ ì†Œê°œ

**ë¬¸ë§¥ ìžìœ  ë¬¸ë²•(CFG)**ì€ í”„ë¡œê·¸ëž˜ë° ì–¸ì–´ì˜ êµ¬ì¡°(ë¬¸ë²•)ë¥¼ í‘œí˜„í•˜ëŠ” í˜•ì‹ì ì¸ ë°©ë²•.
ì£¼ë¡œ **ì»´íŒŒì¼ëŸ¬ì˜ í”„ë¡ íŠ¸ì—”ë“œ**ì—ì„œ ì‚¬ìš©ë˜ë©°, **if-else, while, í•¨ìˆ˜ í˜¸ì¶œ ë“± ì–¸ì–´ êµ¬ì¡°ë¥¼ ê³„ì¸µì ìœ¼ë¡œ í‘œí˜„**

ë¬¸ë²•(grammar)ì´ëž€?
í”„ë¡œê·¸ëž˜ë° ì–¸ì–´ì˜ ë¬¸ìž¥ì„ í˜•ì‹ì ìœ¼ë¡œ ì •ì˜í•˜ê¸° ìœ„í•œ ê·œì¹™ë“¤ì˜ ëª¨ìŒ.
ì´ ë¬¸ë²•ì€ ë‹¤ìŒ ë‘ ê°€ì§€ êµ¬ì„±ìš”ì†Œë¡œ ì´ë£¨ì–´ì ¸ ìžˆìŒ.

- **í„°ë¯¸ë„(Terminal)**: ì‹¤ì œ ì½”ë“œì— ë‚˜ì˜¤ëŠ” ê³ ì •ëœ ë‹¨ì–´ë“¤  
    ì˜ˆ: `if`, `else`, `(`, `)` ê°™ì€ í‚¤ì›Œë“œ, ê¸°í˜¸ ë“±
    
- **ë¹„í„°ë¯¸ë„(Non-terminal)**: ë¬¸ë²• êµ¬ì¡°ë¥¼ í‘œí˜„í•˜ëŠ” ë³€ìˆ˜  
    ì˜ˆ: `expr`(í‘œí˜„ì‹), `stmt`(ë¬¸ìž¥), `decl`(ì„ ì–¸) ë“±


statement: ì‹¤í–‰ê°€ëŠ¥í•œ ìµœì†Œì˜ ë…ë¦½ì ì¸ ì½”ë“œ ì¡°ê°
expression: ìˆ˜ì‹. í•˜ë‚˜ ì´ìƒì˜ ê°’ìœ¼ë¡œ í‘œí˜„ ë  ìˆ˜ ìžˆëŠ” ì½”ë“œ

ex)
Java if else
```Java
if (expression) statement else statement
```

```bash
stmt â†’ if ( expr ) stmt else stmt
```

- ì—¬ê¸°ì„œ `stmt`ëŠ” ë¹„í„°ë¯¸ë„ â†’ í•˜ë‚˜ì˜ ë¬¸ìž¥
- `expr`ë„ ë¹„í„°ë¯¸ë„ â†’ í‘œí˜„ì‹
- `if`, `else`, `(`, `)`ëŠ” í„°ë¯¸ë„ â†’ ì‹¤ì œ ì½”ë“œì— ë‚˜ì˜¤ëŠ” ê³ ì •ëœ í‚¤ì›Œë“œ/ê¸°í˜¸

 ì´ ë¬¸ë²• ê·œì¹™ì„ **ìƒì‚° ê·œì¹™(Production)**ì´ë¼ê³  ë¶€ë¦„
- `â†’` ëŠ” "**~ëŠ” ~ë¡œ êµ¬ì„±ë  ìˆ˜ ìžˆë‹¤**"ëŠ” ì˜ë¯¸
    
- í•˜ë‚˜ì˜ ë¹„í„°ë¯¸ë„ì´ ì–´ë–¤ í„°ë¯¸ë„/ë¹„í„°ë¯¸ë„ ì¡°í•©ìœ¼ë¡œ í™•ìž¥ë  ìˆ˜ ìžˆëŠ”ì§€ ì •ì˜í•¨
- production body: ë¬¸ë²• ê·œì¹™(->)ì˜  ì˜¤ë¥¸ìª½ ë¶€ë¶„ 


stmtëŠ” 'if (expr) stmt else stmt' í˜•íƒœì¼ ìˆ˜ ìžˆë‹¤"ëŠ” ëœ»

| ìš©ì–´               | ì˜ë¯¸                                                      |
| ---------------- | ------------------------------------------------------- |
| **Terminal**     | ì‹¤ì œ ì½”ë“œì— ë“±ìž¥í•˜ëŠ” ê³ ì •ëœ ê¸°í˜¸ (`if`, `else`, `(`, `)`, `{`, `}` ë“±) |
| **Non-terminal** | ë¬¸ë²• êµ¬ì¡°ë¥¼ í‘œí˜„í•˜ëŠ” ë³€ìˆ˜ (`stmt`, `expr`, `decl` ë“±)               |
| **Production**   | í•˜ë‚˜ì˜ ë¬¸ë²• ê·œì¹™ (`stmt â†’ if ( expr ) stmt else stmt`)         |
| **Grammar**      | ì´ëŸ° Production ë“¤ì˜ ëª¨ìŒ                                     |
| **CFG**          | ë¬¸ë§¥ ìžìœ  ë¬¸ë²•, ëŒ€ë¶€ë¶„ì˜ í”„ë¡œê·¸ëž˜ë° ì–¸ì–´ì˜ êµ¬ì¡°ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•œ ë¬¸ë²• í˜•ì‹              |

2.2 Definition of Grammers

ë§ì…ˆê³¼ ëº„ì…ˆì´ í¬í•¨ëœ ìˆ«ìž í‘œí˜„ì‹ì„ **ë¬¸ë§¥ ìžìœ  ë¬¸ë²•(CFG)**ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…

- **list â†’ list + digit**:  
    ì˜ˆ: `3+5`, ë˜ëŠ” `3+5+2`, ì¦‰ **ì•žë¶€ë¶„ì´ listì´ê³  ë§ˆì§€ë§‰ì— + ìˆ«ìžê°€ ì¶”ê°€ë¨**
    
- **list â†’ list - digit**:  
    ì˜ˆ: `9-2`, ë˜ëŠ” `9-2-1`
    
- **list â†’ digit**:  
    í•œ ìžë¦¬ ìˆ«ìž í•˜ë‚˜ì¼ ìˆ˜ë„ ìžˆìŒ (ì˜ˆ: `7`)
    
- **digit â†’ 0 | 1 | ... | 9**:  
    í•œ ìžë¦¬ ìˆ«ìžëŠ” ì´ë ‡ê²Œ ì •ì˜ë¨

í•˜ë‚˜ë¡œ ë¬¶ìœ¼ë©´,
`list â†’ list + digit | list - digit | digit`

ex)  `9-5+2`ëŠ” ì•„ëž˜ì²˜ëŸ¼ ë¶„ì„
```scss
list
â†’ list + digit
â†’ (list - digit) + digit
â†’ ((digit) - digit) + digit
â†’ ((9) - 5) + 2
```

2.2.2 Derivation
**Derivation(ë„ì¶œ)**ì´ëž€?

> **Derivation**ì€ ë¬¸ë²•ì˜ **ì‹œìž‘ ê¸°í˜¸(start symbol)**ì—ì„œ ì‹œìž‘í•´ì„œ  
> **ìƒì‚° ê·œì¹™(production rule)**ì„ ë°˜ë³µì ìœ¼ë¡œ ì ìš©í•˜ë©´ì„œ  
> **ë¬¸ìžì—´ì„ ìƒì„±í•´ ë‚˜ê°€ëŠ” ê³¼ì •**

2.2.5 ì—°ì‚°ìžì˜ ìš°ì„ ìˆœìœ„(precedence)

2.2.6 ì—°ì‚°ìžì˜ ê²°í•© ë°©í–¥(associativity)

## 2.3 Syntax Directed Translation (êµ¬ë¬¸ ì§€í–¥ ë²ˆì—­)

> **ì–´ë–»ê²Œ ë²ˆì—­í• ì§€, ì²˜ë¦¬í• ì§€ì— ëŒ€í•œ ê·œì¹™ì´ë‚˜ ì½”ë“œ**ë¥¼ **ì§ì ‘ ì—°ê²°**í•´ì„œ ë²ˆì—­/ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹


| ìš©ì–´                             | ì˜ë¯¸                                                     |
| ------------------------------ | ------------------------------------------------------ |
| **Attribute** (ì†ì„±)             | ë¬¸ë²• ê¸°í˜¸(ë¹„í„°ë¯¸ë„/í„°ë¯¸ë„)ì— ë¶™ëŠ” ì •ë³´. ì˜ˆ: íƒ€ìž…, ìœ„ì¹˜, ì½”ë“œ ê¸¸ì´ ë“±             |
| **Translation Scheme** (ë²ˆì—­ ìŠ¤í‚´) | ë¬¸ë²•ì˜ ê° ê·œì¹™(production)ì— ì‹¤í–‰í•  ì½”ë“œ ì¡°ê°ì„ ë¶™ì—¬, íŒŒì‹± ë„ì¤‘ ë²ˆì—­ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹ |

í”„ë¡œê·¸ëž˜ë° ì–¸ì–´ì˜ **êµ¬ì„± ìš”ì†Œ(construct)**ë“¤ì—ëŠ” ì—¬ëŸ¬ ê°€ì§€ **ì†ì„±(ì •ë³´)**ì´ í•„ìš”

ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì´ "ì†ì„±(attribute)"ìž…ë‹ˆë‹¤:

- ë³€ìˆ˜ì˜ **ìžë£Œí˜•** (`int`, `float` ë“±)
    
- í‘œí˜„ì‹ì˜ **ê³„ì‚° ê²°ê³¼ ê°’**
    
- êµ¬ë¬¸ íŠ¸ë¦¬ì—ì„œ ì–´ë–¤ ë…¸ë“œì˜ **ì£¼ì†Œ**, **ì˜¤í”„ì…‹**
    
- ìƒì„±ëœ **ëª…ë ¹ì–´ ìˆ˜**
    

ì´ëŸ¬í•œ ì†ì„±ì€ ë¬¸ë²• ê¸°í˜¸(ì˜ˆ: `Expr`, `Stmt`)ì— **ë¶™ì—¬ì„œ í•¨ê»˜ ê´€ë¦¬**

- `Expr`ì— ë¶™ì„ ìˆ˜ ìžˆëŠ” attribute ì˜ˆì‹œ:
    
    - `Expr.val`: ê³„ì‚°ëœ ê°’
        
    - `Expr.type`: ìžë£Œí˜•
        
    - `Expr.code`: ìƒì„±ëœ ì½”ë“œ

### 2. **Translation Scheme (ë²ˆì—­ ìŠ¤í‚´)**

ë¬¸ë²• ê·œì¹™ì—ë‹¤ê°€ **ì‹¤ì œ ì½”ë“œ ì¡°ê°ì„ ë¶™ì—¬ì„œ**,  
**êµ¬ë¬¸ ë¶„ì„(parsing)** ì¤‘ì— ê·¸ ì½”ë“œë“¤ì„ **ì°¨ë¡€ë¡œ ì‹¤í–‰**

| ëª©ì      | ì˜ˆì‹œ                                        |
| ------ | ----------------------------------------- |
| ê³„ì‚°     | `E.val = Eâ‚.val + T.val`                  |
| ì¶œë ¥     | `print('+')`                              |
| AST ìƒì„± | `E.node = new AddNode(Eâ‚.node, T.node)`   |
| ì½”ë“œ ìƒì„±  | `E.code = concat(Eâ‚.code, T.code, "ADD")` |

- ì»´íŒŒì¼ëŸ¬ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë¬¸ë²• ê·œì¹™ ìž‘ì„± ì‹œì˜ ê´€ë¡€(convention)

ìš°ë¦¬ê°€ ë¬¸ë²• ê·œì¹™(ìƒì„± ê·œì¹™)ì„ ìž‘ì„±í•  ë•Œ,  
ë™ì¼í•œ ë¹„í„°ë¯¸ë„(Non-terminal)ì´ í•œ ê·œì¹™ ì•ˆì— ì—¬ëŸ¬ ë²ˆ ë“±ìž¥í•˜ëŠ” ê²½ìš°ê°€ ìžˆìŒ
```
E â†’ E + E

E â†’ Eâ‚ + Eâ‚‚
ì„¸ ê°œì˜ `E`ê°€ ë“±ìž¥í•˜ì§€ë§Œ, ì„œë¡œ ë‹¤ë¥¸ ì—­í• ì„ í•˜ë¯€ë¡œ ì´ë¦„ì„ êµ¬ë¶„
```

```
A â†’ Xâ‚ Xâ‚‚ ... Xâ‚™

```

ëª¨ë‘ ê°™ì€ ë¹„í„°ë¯¸ë„ Xì˜ ë°˜ë³µ ì‚¬ìš©ì„ ì˜ë¯¸í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼,  
ê·¸ëƒ¥ **ìž„ì˜ì˜ ì—¬ëŸ¬ ë¬¸ë²• ê¸°í˜¸ë“¤ì„ ë‚˜íƒ€ë‚´ëŠ” í‘œê¸°**ì¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ì¦‰, ì–´ë–¤ ê²½ìš°ì—ëŠ” `Xâ‚`, `Xâ‚‚`ê°€ ì§„ì§œ `X`ì˜ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ì¼ ìˆ˜ ìžˆê³ ,  
ì–´ë–¤ ê²½ìš°ì—ëŠ” ê·¸ëƒ¥ ê°ê° ë‹¤ë¥¸ ê¸°í˜¸ì¼ ìˆ˜ ìžˆìŒ

 2.3.3 ê°„ë‹¨í•œ(SIMPLE) Syntax-Directed Definition (êµ¬ë¬¸ ì§€ì‹œ ì •ì˜)

ì´ ì ˆì—ì„œëŠ” **ë¬¸ë²•ì˜ ìƒì„± ê·œì¹™ê³¼ ì˜ë¯¸ ê·œì¹™ì„ ê²°í•©í•˜ì—¬ ë²ˆì—­(ì˜ˆ: postfix í‘œê¸°)í•˜ëŠ” ë°©ì‹** ì¤‘ì—ì„œë„,  
íŠ¹ížˆ "ê°„ë‹¨í•œ ë°©ì‹(Simple SDD)"ì„ ì„¤ëª…

---

 ðŸ”§ Simple SDDì˜ ì •ì˜

**Simple Syntax-Directed Definition**ì€ ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ê°€ì§‘ë‹ˆë‹¤:

> "ìƒì„± ê·œì¹™ì˜ ì™¼ìª½ ë¹„í„°ë¯¸ë„(ê²°ê³¼)ì˜ ë²ˆì—­ ê²°ê³¼ëŠ”  
> ì˜¤ë¥¸ìª½ì— ìžˆëŠ” ë¹„í„°ë¯¸ë„ë“¤ì˜ ë²ˆì—­ ê²°ê³¼ë¥¼ **ê·¸ëŒ€ë¡œ ìˆœì„œëŒ€ë¡œ ì´ì–´ë¶™ì¸ ê²ƒ(Concatenation)**ì´ë‹¤.  
> (í•„ìš”í•˜ë‹¤ë©´ ì¤‘ê°„ì— ì¶”ê°€ ë¬¸ìžì—´ì´ ë¼ì–´ë“¤ ìˆ˜ë„ ìžˆìŒ)"

---

#### ðŸ§ª ì˜ˆì‹œ: postfix ë³€í™˜

##### ë¬¸ë²• ê·œì¹™:

`expr â†’ expr + term`

##### ì˜ë¯¸ ê·œì¹™:

`expr.t = exprâ‚.t || term.t || '+'`

ì—¬ê¸°ì„œ ì˜ë¯¸ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- `exprâ‚.t`: ì™¼ìª½ì— ìžˆëŠ” í‘œí˜„ì‹ì˜ postfix ê²°ê³¼
    
- `term.t`: ì˜¤ë¥¸ìª½ í•­ì˜ postfix ê²°ê³¼
    
- `'+'`: ë§ˆì§€ë§‰ì— ì—°ì‚°ìž ì¶”ê°€
    

**ì¦‰**, ì¤‘ìœ„ í‘œí˜„ì‹ `a + b`ëŠ” â†’ postfixë¡œ `a b +`ê°€ ë©ë‹ˆë‹¤.

#### 2.3.5 Translation Schemes

í”„ë¡œê·¸ëž¨ ì¡°ê°(ì½”ë“œ)ì„ ë¬¸ë²• ê·œì¹™ ì•ˆì— ì§ì ‘ ë„£ì–´ì„œ ë²ˆì—­ ê³¼ì •ì„ ì •ì˜í•˜ëŠ” ë°©ë²•

- ê¸°ì¡´ë°©ì‹ê³¼ ë¹„êµ
|êµ¬ë¶„|Syntax-Directed Definition (SDD)|Translation Scheme|
|---|---|---|
|ë°©ì‹|íŠ¸ë¦¬ ë…¸ë“œì— "ì†ì„±ê°’"ì„ ì €ìž¥í•˜ê³  ê³„ì‚°|**í”„ë¡œë•ì…˜ ì•ˆì— ì½”ë“œë¥¼ ì§ì ‘ ìž‘ì„±**í•´ì„œ ë²ˆì—­ì„ ìˆ˜í–‰|
|ê³„ì‚° ì‹œì |ê·œì¹™ ê¸°ë°˜ (ì†ì„±ìœ¼ë¡œ ê³„ì‚°)|**ëª…ì‹œì ìœ¼ë¡œ ì‹¤í–‰ ìœ„ì¹˜ ì§€ì •**|
|ì˜ˆì‹œ|`expr.t = term.t + '+'`|`expr â†’ term { print('+') }`|

- ì˜ˆì‹œ ì„¤ëª…

`rest â†’ + term { print('+') } rest1`

ì—¬ê¸°ì„œ `{ print('+') }`ëŠ” **semantic action (ì˜ë¯¸ ë™ìž‘)** 
ì´ ì½”ë“œ ì¡°ê°ì€ êµ¬ë¬¸ ë¶„ì„ ì¤‘ ì´ ë¶€ë¶„ì´ ì‹¤í–‰ë  ë•Œ **ì¦‰ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤.**

ì¦‰, íŒŒì„œê°€ `rest â†’ + term ...` ê·œì¹™ì„ ì‚¬ìš©í•  ë•Œ,  
`term` ë’¤ì— `+` ê¸°í˜¸ë¥¼ ë°”ë¡œ ì¶œë ¥í•˜ë„ë¡ ì§€ì •í•œ ê²ƒ.

ex)
ìž…ë ¥ ìˆ˜ì‹: `9 - 5 + 2`
output: `95-2+`

```scss
expr â†’ term rest
     â†’ 9 rest
        â†’ - term { print('-') } rest1
              â†’ 5 rest1
                    â†’ + term { print('+') } rest2
                          â†’ 2 rest2
                                â†’ Îµ

```



#### 2.3 Exercises for Section 2.3


2.3.1
Construct a syntax-directed translation scheme that translates arithmetic expressions from infix notation into prefix notation in which an operator appears before its operands; e.g. , -xy is the prefix notation for x - y. Give annotated parse trees for the inputs 9-5+2 and 9-5*2.


Ans)
productions:

```
expr -> expr + term
      | expr - term
      | term
term -> term * factor
      | term / factor
      | factor
factor -> digit | (expr)
```

translation schemes:

```
expr -> {print("+")} expr + term
      | {print("-")} expr - term
      | term
term -> {print("*")} term * factor
      | {print("/")} term / factor
      | factor
factor -> digit {print(digit)}
        | (expr)
```

 2.3.2
Construct a syntax-directed translation scheme that translates arithmetic expressions from postfix notation into infix notation. Give annotated parse trees for the inputs 95-2Â _and 952_-.

Ans)

productions:

```
expr -> expr expr +
      | expr expr -
      | expr expr *
      | expr expr /
      | digit
```
ã…‡ã„´ã„¹ã„´
translation schemes:

```
expr -> expr {print("+")} expr +
      | expr {print("-")} expr -
      | {print("(")} expr {print(")*(")} expr {print(")")} *
      | {print("(")} expr {print(")/(")} expr {print(")")} /
      | digit {print(digit)}
```

#### Another reference answer

```
E -> {print("(")} E {print(op)} E {print(")"}} op | digit {print(digit)}
```