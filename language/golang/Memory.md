
### mspan 과 크기 

#### 1. **Go의 페이지와 `mspan` 구조**

- **페이지(page)**: 메모리를 관리하는 기본 단위. Go는 **8KB 페이지**를 사용합니다.
- **런(run)**: 페이지가 여러 개 연속으로 묶인 것.
    - 예를 들어, 3개의 페이지를 묶어 하나의 "런"으로 관리할 수 있습니다.
- **`mspan`**: Go에서 페이지나 런을 관리하기 위한 데이터 구조.
    - 페이지나 런이 **어떤 용도로 사용되고 있는지**, 또는 **얼마나 많은 메모리가 할당되었는지**를 추적.

#### 2. **크기 클래스(size classes)와 메모리 절약**

- **크기 클래스**:
    - Go는 메모리를 관리하기 위해 미리 정의된 다양한 크기 단위를 사용.
    - 예를 들어, 8바이트, 16바이트, 32바이트 등, 정해진 "크기 클래스"로 메모리를 나눔.
    - 크기 클래스마다 특정한 개수의 페이지(런)를 할당하고, 이를 **작은 객체 블록**으로 잘라 사용.


https://medium.com/@ankur_anand/a-visual-guide-to-golang-memory-allocator-from-ground-up-e132258453ed